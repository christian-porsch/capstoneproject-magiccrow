(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{58:function(e,t,c){},87:function(e,t,c){"use strict";c.r(t);var n=c(0),a=c.n(n),r=c(21),s=c.n(r),i=(c(58),Object(n.createContext)({})),o=(c(19),c(9)),d=c(10),l=c.n(d);var j=c(1);function b(){var e=Object(n.useContext)(i).jwtDecoded,t=function(){var e=Object(n.useState)(),t=Object(o.a)(e,2),c=t[0],a=t[1];return Object(n.useEffect)((function(){l.a.get("https://api.scryfall.com/cards/random").then((function(e){return e.data})).then(a)}),[]),{randomCard:c}}().randomCard;return Object(j.jsxs)("div",{className:"container text-center h-100",children:[Object(j.jsxs)("h4",{className:"text-uppercase text-monospace p-5",children:["Hello ",e.sub,", welcome to MagicCrow"]}),Object(j.jsx)("div",{className:"font-italic p-5",children:t&&Object(j.jsx)("div",{children:t.flavor_text})})]})}var u=c(12),x=c(7),h=c(13);function O(e){var t,c=e.singleCard;return Object(j.jsx)(m,{src:null===(t=c.image_uris)||void 0===t?void 0:t.normal,alt:c.name},c.id)}var m=h.b.img.withConfig({displayName:"CardImage__ImageAppearance",componentId:"sc-1s7nalx-0"})(["justify-content:space-evenly;margin:5px;width:150px;height:auto;border-radius:7%;"]);function p(e){var t=e.cards;return Object(j.jsx)(f,{children:t.map((function(e){return Object(j.jsx)(u.b,{to:"/"+e.id,children:Object(j.jsx)(O,{singleCard:e})},e.id)}))})}var f=h.b.section.withConfig({displayName:"CardSearchResult__CardsAppearance",componentId:"sc-inscln-0"})(["display:flex;flex-flow:row wrap;justify-content:center;padding:20px 0px 60px 0px;"]),g=c(99),v=c(89),C=c(47),N=c(100);function y(e){var t=e.searchForCard,c=Object(n.useState)(""),a=Object(o.a)(c,2),r=a[0],s=a[1];return Object(j.jsx)(g.a,{onSubmit:function(e){e.preventDefault(),t(r)},className:"form-control-sm",children:Object(j.jsxs)(v.a,{className:"rounded",children:[Object(j.jsx)(C.a,{type:"text",placeholder:"search for a card",value:r,onChange:function(e){return s(e.target.value)}}),Object(j.jsx)(v.a.Append,{children:Object(j.jsx)(N.a,{variant:"primary",disabled:0===r.length,children:"search"})})]})})}function w(){var e=function(){var e=Object(n.useState)([]),t=Object(o.a)(e,2),c=t[0],a=t[1],r=Object(n.useContext)(i).token,s={headers:{Authorization:"Bearer ".concat(r)}};return{cards:c,getSpecificCard:function(e){return l.a.get("/api/cards?cardName="+e,s).then((function(e){return e.data})).then(a).catch((function(e){return console.log(e)}))}}}(),t=e.cards,c=e.getSpecificCard;return Object(j.jsxs)(P,{children:[Object(j.jsx)(y,{searchForCard:c}),Object(j.jsx)(p,{cards:t})]})}var P=h.b.div.withConfig({displayName:"CardSearchPage__Wrapper",componentId:"sc-ez56ze-0"})(["text-align:center;"]);function I(){var e=function(){var e=Object(n.useState)(),t=Object(o.a)(e,2),c=t[0],a=t[1],r=Object(n.useContext)(i),s=r.token,d=r.config,j=r.jwtDecoded;return Object(n.useEffect)((function(){l.a.get("/api/cardsInPile/"+j.sub,d).then((function(e){return e.data})).then(a)}),[s,d,j]),{cardsInPile:c}}().cardsInPile;return Object(n.useContext)(i).token?Object(j.jsxs)("div",{className:"pb-5",children:[Object(j.jsx)("h2",{className:"text-center text-uppercase text-monospace p-2",children:"your collection"}),e&&Object(j.jsxs)("table",{className:"table text-center table-bordered",children:[Object(j.jsx)("thead",{className:"thead-light",children:Object(j.jsxs)("tr",{children:[Object(j.jsx)("th",{children:"cardname"}),Object(j.jsx)("th",{children:"set"}),Object(j.jsx)("th",{children:"amount"})]})}),e.map((function(e){return Object(j.jsx)("tbody",{children:Object(j.jsxs)("tr",{className:"text-monospace",children:[Object(j.jsx)("td",{children:Object(j.jsx)(u.b,{style:{color:"inherit",textDecoration:"inherit"},to:"/myCollection/"+e.id,children:e.name})}),Object(j.jsx)("td",{children:Object(j.jsx)(u.b,{style:{color:"inherit",textDecoration:"inherit"},to:"/myCollection/"+e.id,children:e.set_name})}),Object(j.jsx)("td",{children:Object(j.jsx)(u.b,{style:{color:"inherit",textDecoration:"inherit"},to:"/myCollection/"+e.id,children:e.amount})})]})},e.id)}))]})]}):Object(j.jsx)(j.Fragment,{})}function S(e){var t=Object(n.useState)({}),c=Object(o.a)(t,2),a=c[0],r=c[1];return Object(n.useEffect)((function(){l.a.get("https://api.scryfall.com/cards/"+e).then((function(e){return e.data})).then(r)}),[e]),{cardPrice:a}}function _(e){var t=Object(n.useState)({}),c=Object(o.a)(t,2),a=c[0],r=c[1],s=Object(n.useContext)(i),d=s.token,j=s.config;Object(n.useEffect)((function(){l.a.get("/api/cardsInPile/specificCardInPile/"+e,j).then((function(e){return e.data})).then(r).catch((function(e){return console.log(e)}))}),[e,d,j]);return{addCardToPile:function(e){l.a.post("/api/cardsInPile/",{id:e},j).then((function(e){return e.data})).then(r).catch((function(e){return console.log(e)}))},decreaseCardFromPile:function(e){l.a.put("/api/cardsInPile/updateCardInPile/"+e,{},j).then((function(e){return e.data})).then(r).catch((function(e){return console.log(e)}))},deleteCardFromPile:function(e){return l.a.delete("/api/cardsInPile/"+e,j).then((function(e){return e.data})).then(r).catch((function(e){return console.log(e)}))},cardInPile:a}}var k=c(90);function z(){var e,t,c,a,r=Object(x.h)().id,s=function(e){var t=Object(n.useState)({}),c=Object(o.a)(t,2),a=c[0],r=c[1],s=Object(n.useContext)(i),d=s.token,j=s.config;return Object(n.useEffect)((function(){l.a.get("/api/cards/"+e,j).then((function(e){return e.data})).then(r)}),[e,d,j]),{card:a}}(r).card,d=S(r).cardPrice,b=_(r),u=b.addCardToPile,h=b.cardInPile;return Object(j.jsxs)("div",{className:"container",children:[Object(j.jsxs)("div",{className:"row p-1",children:[Object(j.jsx)("div",{className:"col",children:Object(j.jsx)(F,{src:null===(e=s.image_uris)||void 0===e?void 0:e.normal})}),Object(j.jsxs)("div",{className:"col",children:[Object(j.jsxs)("div",{className:"w-100 badge badge-info",children:[null===(t=d.prices)||void 0===t?void 0:t.usd," $"]}),Object(j.jsxs)("div",{className:"w-100 badge badge-info",children:[null===(c=d.prices)||void 0===c?void 0:c.eur," \u20ac"]}),Object(j.jsxs)("div",{className:"w-100 badge badge-info",children:[null===(a=d.prices)||void 0===a?void 0:a.tix," tix"]}),Object(j.jsxs)("div",{className:"col d-flex justify-content-center p-2",children:[Object(j.jsx)(k.a,{size:"25px"}),": ",h.amount]}),Object(j.jsx)("button",{className:"p-1 w-100 btn btn-success",onClick:function(){u(r)},children:"Add to collection"})]})]}),Object(j.jsxs)("div",{className:"card border-light p-3",children:[Object(j.jsx)("div",{className:"card-header"}),Object(j.jsxs)("div",{className:"card-body",children:[Object(j.jsx)("h3",{className:"card-title text-monospace",children:s.name}),Object(j.jsx)("h6",{className:"text-monospace",children:s.set_name})]}),Object(j.jsx)("p",{className:"card-text text-center",children:s.oracle_text})]})]})}var F=h.b.img.withConfig({displayName:"SingleCardPage__SingleCardImage",componentId:"sc-7itfo4-0"})(["width:200px;height:auto;border-radius:7%;box-shadow:0px 10px 13px -7px #000000;"]),D=c.p+"static/media/magicCrow_1.9f820f53.png";function A(){return Object(j.jsx)(E,{src:D,alt:"MagicCrowLogo"})}var E=h.b.img.withConfig({displayName:"MagicCrowHeader__Logo",componentId:"sc-4a5dxj-0"})(["display:flex;align-items:center:justify-content:center;margin:auto;width:50%;height:auto;"]),L=c(98),T=c(91),B=c(92),M=c(93);function H(){return Object(n.useContext)(i).token?Object(j.jsxs)(L.a,{fixed:"bottom",bg:"dark",className:"justify-content-around",children:[Object(j.jsx)(T.a,{children:Object(j.jsx)(u.b,{to:"/home",children:Object(j.jsx)(B.a,{size:"30px"})})}),Object(j.jsx)(T.a,{children:Object(j.jsx)(u.b,{to:"/searchCards",children:Object(j.jsx)(M.a,{size:"30px"})})}),Object(j.jsx)(T.a,{children:Object(j.jsx)(u.b,{to:"/myCollection",children:Object(j.jsx)(k.a,{size:"30px"})})})]}):Object(j.jsx)(j.Fragment,{})}var J=c(94),$=c(95);function q(){var e,t,c,n,a=Object(x.g)(),r=Object(x.h)().id,s=_(r),i=s.addCardToPile,o=s.decreaseCardFromPile,d=s.deleteCardFromPile,l=s.cardInPile,b=S(r).cardPrice;return Object(j.jsxs)("div",{className:"container pb-5",children:[Object(j.jsxs)("div",{className:"row p-1",children:[Object(j.jsxs)("div",{className:"col",children:[Object(j.jsx)(R,{src:null===(e=l.image_uris)||void 0===e?void 0:e.normal}),Object(j.jsxs)("div",{className:"col d-flex justify-content-between p-2",children:[Object(j.jsx)(J.a,{size:"35px",onClick:function(){o(r)},style:{color:"#d9534f"}}),Object(j.jsx)(k.a,{size:"30px"}),": ",l.amount,Object(j.jsx)($.a,{size:"35px",onClick:function(){i(r)},style:{color:"#5cb85c"},children:"+"})]})]}),Object(j.jsxs)("div",{className:"col",children:[Object(j.jsxs)("div",{className:"w-100 badge badge-info",children:[null===(t=b.prices)||void 0===t?void 0:t.usd," $"]}),Object(j.jsxs)("div",{className:"w-100 badge badge-info",children:[null===(c=b.prices)||void 0===c?void 0:c.eur," \u20ac"]}),Object(j.jsxs)("div",{className:"w-100 badge badge-info",children:[null===(n=b.prices)||void 0===n?void 0:n.tix," tix"]})]})]}),Object(j.jsxs)("div",{className:"card border-light",children:[Object(j.jsx)("div",{className:"card-header"}),Object(j.jsxs)("div",{className:"card-body",children:[Object(j.jsx)("h3",{className:"card-title text-monospace",children:l.name}),Object(j.jsx)("h6",{className:"text-monospace",children:l.set_name})]}),Object(j.jsx)("p",{className:"card-text text-center",children:l.oracle_text})]}),Object(j.jsx)("div",{className:"d-flex justify-content-center p-2",children:Object(j.jsx)("button",{className:"btn btn-danger",onClick:function(){d(r).then((function(){return a.push("/myCollection")}))},children:"delete from collection"})})]})}var R=h.b.img.withConfig({displayName:"SingleCardInCollectionPage__SingleCardImage",componentId:"sc-oq52pk-0"})(["width:200px;height:auto;border-radius:7%;box-shadow:0px 10px 13px -7px #000000;"]),W=c(24),G=c(23),K=c(96),Q=c(97),U={username:"",password:""};function V(){var e=Object(n.useState)(U),t=Object(o.a)(e,2),c=t[0],a=t[1],r=Object(n.useContext)(i).login,s=function(e){a(Object(G.a)(Object(G.a)({},c),{},Object(W.a)({},e.target.name,e.target.value)))};return Object(j.jsx)("div",{className:"container d-flex justify-content-center h-50",children:Object(j.jsxs)("form",{onSubmit:function(e){e.preventDefault(),r(c)},className:"align-self-center",children:[Object(j.jsxs)("div",{className:"col-auto input-group",children:[Object(j.jsx)("div",{className:"input-group-text",children:Object(j.jsx)(K.a,{})}),Object(j.jsx)("input",{className:"form-control",type:"text",placeholder:"username",name:"username",onChange:s,value:c.username})]}),Object(j.jsxs)("div",{className:"col-auto input-group",children:[Object(j.jsx)("div",{className:"input-group-text",children:Object(j.jsx)(Q.a,{})}),Object(j.jsx)("input",{className:"form-control",type:"password",placeholder:"password",name:"password",onChange:s,value:c.password})]}),Object(j.jsx)("div",{className:"d-flex justify-content-center p-2",children:Object(j.jsx)("button",{className:"btn btn-primary",children:"Login"})})]})})}var X=c(50);function Y(e){var t=e.children,c=Object(x.g)(),a=Object(n.useState)(),r=Object(o.a)(a,2),s=r[0],d=r[1],b=Object(n.useState)(),u=Object(o.a)(b,2),h=u[0],O=u[1],m={headers:{Authorization:"Bearer ".concat(s)}};return Object(j.jsx)(i.Provider,{value:{token:s,config:m,login:function(e){l.a.post("/auth/login",e).then((function(e){return e.data})).then((function(e){d(e),O(Object(X.a)(e.toString()))})).then((function(){return c.push("/home")})).catch((function(e){return console.error(e.message)}))},jwtDecoded:h},children:t})}function Z(e){return Object(n.useContext)(i).token?Object(j.jsx)(x.b,Object(G.a)({},e)):Object(j.jsx)(x.a,{to:"/"})}var ee,te=function(){return Object(j.jsx)(u.a,{children:Object(j.jsxs)(Y,{children:[Object(j.jsx)(A,{}),Object(j.jsxs)(x.d,{children:[Object(j.jsx)(x.b,{path:"/",exact:!0,children:Object(j.jsx)(V,{})}),Object(j.jsx)(Z,{path:"/home",exact:!0,children:Object(j.jsx)(b,{})}),Object(j.jsx)(Z,{path:"/searchCards",exact:!0,children:Object(j.jsx)(w,{})}),Object(j.jsx)(Z,{path:"/myCollection",exact:!0,children:Object(j.jsx)(I,{})}),Object(j.jsx)(Z,{path:"/:id",exact:!0,children:Object(j.jsx)(z,{})}),Object(j.jsx)(Z,{path:"/myCollection/:id",exact:!0,children:Object(j.jsx)(q,{})})]}),Object(j.jsx)(H,{})]})})},ce=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,101)).then((function(t){var c=t.getCLS,n=t.getFID,a=t.getFCP,r=t.getLCP,s=t.getTTFB;c(e),n(e),a(e),r(e),s(e)}))},ne=c(51),ae=Object(h.a)(ee||(ee=Object(ne.a)(["\n    *{\n      box-sizing: border-box;\n   \n    }\n    \n    html, body{\n    height: 100%;\n    margin: 0;\n    }\n    \n    #root{\n    height: 100%\n    }\n"])));s.a.render(Object(j.jsxs)(a.a.StrictMode,{children:[Object(j.jsx)(ae,{}),Object(j.jsx)(te,{})]}),document.getElementById("root")),ce()}},[[87,1,2]]]);
//# sourceMappingURL=main.163936fc.chunk.js.map